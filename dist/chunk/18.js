(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"195":function(e,t,n){"use strict";n.d(t,"b",(function(){return getUserSelections})),n.d(t,"d",(function(){return getWarehouseStock})),n.d(t,"c",(function(){return getWarehouseBatchStock})),n.d(t,"a",(function(){return getSelections}));var a=n(16),r=n(22),c=n(162);function getUnits(e){return _getUnits.apply(this,arguments)}function _getUnits(){return(_getUnits=Object(r.a)(Object(a.a)().mark((function _callee(e){return Object(a.a)().wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.get("/api/v1/qudaoyi/product_manage/units/selection",{"params":e}));case 1:case"end":return t.stop()}}),_callee)})))).apply(this,arguments)}function getPricingSystems(e){return _getPricingSystems.apply(this,arguments)}function _getPricingSystems(){return(_getPricingSystems=Object(r.a)(Object(a.a)().mark((function _callee2(e){return Object(a.a)().wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.get("/api/v1/qudaoyi/price_manage/pricing_systems/selection",{"params":e}));case 1:case"end":return t.stop()}}),_callee2)})))).apply(this,arguments)}function getCategories(e){return _getCategories.apply(this,arguments)}function _getCategories(){return(_getCategories=Object(r.a)(Object(a.a)().mark((function _callee4(e){return Object(a.a)().wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.get("/api/v1/qudaoyi/product_manage/categories/selection",{"params":e}));case 1:case"end":return t.stop()}}),_callee4)})))).apply(this,arguments)}function getBrands(e){return _getBrands.apply(this,arguments)}function _getBrands(){return(_getBrands=Object(r.a)(Object(a.a)().mark((function _callee5(e){return Object(a.a)().wrap((function _callee5$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.get("/api/v1/qudaoyi/product_manage/brands/selection",{"params":e}));case 1:case"end":return t.stop()}}),_callee5)})))).apply(this,arguments)}function getUserSelections(e){return _getUserSelections.apply(this,arguments)}function _getUserSelections(){return(_getUserSelections=Object(r.a)(Object(a.a)().mark((function _callee7(e){return Object(a.a)().wrap((function _callee7$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.get("/api/v1/account/users/selection",{"params":e}));case 1:case"end":return t.stop()}}),_callee7)})))).apply(this,arguments)}function getWarehouses(e){return _getWarehouses.apply(this,arguments)}function _getWarehouses(){return(_getWarehouses=Object(r.a)(Object(a.a)().mark((function _callee8(e){return Object(a.a)().wrap((function _callee8$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.get("/api/v1/qudaoyi/warehouse_manage/warehouses/selection",{"params":e}));case 1:case"end":return t.stop()}}),_callee8)})))).apply(this,arguments)}function getWarehouseStock(e){return _getWarehouseStock.apply(this,arguments)}function _getWarehouseStock(){return(_getWarehouseStock=Object(r.a)(Object(a.a)().mark((function _callee9(e){return Object(a.a)().wrap((function _callee9$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.get("/api/v1/qudaoyi/warehouse_manage/warehouses/warehouse_stock",{"params":e}));case 1:case"end":return t.stop()}}),_callee9)})))).apply(this,arguments)}function getWarehouseBatchStock(e){return _getWarehouseBatchStock.apply(this,arguments)}function _getWarehouseBatchStock(){return(_getWarehouseBatchStock=Object(r.a)(Object(a.a)().mark((function _callee10(e){return Object(a.a)().wrap((function _callee10$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.get("/api/v1/qudaoyi/warehouse_manage/warehouses/batch_stock",{"params":e}));case 1:case"end":return t.stop()}}),_callee10)})))).apply(this,arguments)}function getTabSelections(e,t){return _getTabSelections.apply(this,arguments)}function _getTabSelections(){return(_getTabSelections=Object(r.a)(Object(a.a)().mark((function _callee17(e,t){return Object(a.a)().wrap((function _callee17$(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",c.a.get("/api/v1/".concat(e,"/selection"),{"params":t}));case 1:case"end":return n.stop()}}),_callee17)})))).apply(this,arguments)}function getSelections(e,t){return _getSelections.apply(this,arguments)}function _getSelections(){return(_getSelections=Object(r.a)(Object(a.a)().mark((function _callee18(e,t){return Object(a.a)().wrap((function _callee18$(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e,n.next="units"===n.t0?3:"warehouses"===n.t0?4:"categories"===n.t0?5:"brands"===n.t0?6:"pricing_systems"===n.t0?7:8;break;case 3:return n.abrupt("return",getUnits(t));case 4:return n.abrupt("return",getWarehouses(t));case 5:return n.abrupt("return",getCategories(t));case 6:return n.abrupt("return",getBrands(t));case 7:return n.abrupt("return",getPricingSystems(t));case 8:return n.abrupt("return",getTabSelections(e,t));case 9:case"end":return n.stop()}}),_callee18)})))).apply(this,arguments)}},"469":function(e,t,n){"use strict";n.r(t);var a=n(18),r=n(140),c=n(143),s=n(20),i=(n(205),n(900)),u=n(195),o=n(891),l=n(600),p=n(190),b=n.n(p),h=n(136);t.default=function(e){var t=e.onChange,n=e.isDisable,p=(e.onBlur,e.placeholder),g=e.multiple,j=Object(s.useState)(1),f=Object(a.a)(j,2),d=f[0],O=f[1],m=Object(s.useState)(),_=Object(a.a)(m,2),x=_[0],y=_[1],k=Object(s.useState)(!1),S=Object(a.a)(k,2),w=S[0],v=S[1],C=Object(s.useState)([]),W=Object(a.a)(C,2),B=W[0],U=W[1],N=Object(s.useState)(!1),$=Object(a.a)(N,2),q=$[0],T=$[1],P=Object(s.useState)([]),L=Object(a.a)(P,2),z=L[0],D=L[1],I=Object(s.useState)([]),J=Object(a.a)(I,2),M=J[0],A=J[1],E=Object(s.useState)(""),H=Object(a.a)(E,2),R=H[0],Y=H[1],F=Object(s.useState)(!1),G=Object(a.a)(F,2),K=G[0],Q=G[1];Object(s.useEffect)((function(){e.value?Q(!1):(Q(!0),D([]),A([]))}),[e]);var V=function getUser(n,a){v(!0),Object(u.b)({"page":n,"q":{"approved_eq":!0,"name_cont":""===a?a:R}}).then((function(a){if(200===a.code&&a.data){var r=a.data.datas;U(1===n?r:B.concat(r)),O(n),y(a.data.info),v(!1),e.value&&t&&t(e.value)}})).catch((function(e){v(!1),o.b.error(e.tips)}))};return Object(h.jsxs)(r.e,{"className":"field","onClick":function onClick(){T(!n),B.length||V(1)},"children":[Object(h.jsxs)(r.e,{"className":"field-content","children":[z&&z.length?Object(h.jsx)(r.e,{"className":"field-text","children":z.map((function(e,t){return Object(h.jsx)(r.d,{"className":g?"field-text-multiple":"","children":e},t)}))}):Object(h.jsx)(r.d,{"className":"field-placeholder","children":p||" "}),Object(h.jsx)(i.a,{})]}),Object(h.jsx)(c.z,{"visible":q,"destroyOnClose":K,"onMaskClick":function onMaskClick(){T(!1)},"bodyStyle":{"height":.9*window.innerHeight+"px"},"children":Object(h.jsxs)(r.e,{"className":"resource-popup","children":[Object(h.jsxs)(l.a,{"align":"middle","children":[Object(h.jsx)(c.C,{"style":{"flex":1},"onClear":function onClear(){return V(1,"")},"value":R,"onChange":Y,"onSearch":function onSearch(){return V(1)}}),R&&Object(h.jsx)(c.c,{"color":"primary","size":"small","style":{"marginLeft":"10px"},"onClick":function onClick(){return V(1)},"children":"搜索"})]}),Object(h.jsx)(r.e,{"className":"main","children":Object(h.jsxs)(r.c,{"style":{"height":"100%"},"scrollY":!0,"lowerThreshold":200,"onScrollToLower":b.a.throttle((function(){x&&B.length!==x.total_count&&!w&&V(d+1)}),1e3,{"leading":!0,"trailing":!1}),"children":[Object(h.jsx)(c.e,{"multiple":g,"value":z,"children":B.map((function(e,n){return Object(h.jsx)(c.e.Item,{"value":e.name,"onClick":function onClick(){g?z.find((function(t){return t===e.name}))?(D(z.filter((function(t){return t!==e.name}))),A(M.filter((function(t){return t!==e.id}))),t&&t(M.filter((function(t){return t!==e.id})))):(D(z.concat(e.name)),A(M.concat(e.id)),t&&t(M.concat(e.id))):(console.log("value",z),D([z&&e.name===z[0]?"":e.name]),t&&t(z&&e.name===z[0]?null:e.id),T(!1))},"children":Object(h.jsxs)(r.e,{"className":"user-item","children":[Object(h.jsx)(r.e,{"className":"user-acatar","children":e.avatar?Object(h.jsx)(c.o,{"src":e.avatar}):e.name[0]}),Object(h.jsxs)(r.e,{"children":[Object(h.jsx)(r.e,{"children":e.name}),Object(h.jsx)(r.e,{"className":"user-email","children":e.email})]})]})},n)}))}),w&&Object(h.jsxs)(r.d,{"style":{"display":"block","textAlign":"center","marginTop":"20px"},"children":["加载中",Object(h.jsx)(c.k,{})]}),!B.length&&!w&&Object(h.jsx)(c.j,{"style":{"marginTop":"20px"},"children":R?"未找到".concat(R):"暂无数据"})]})}),Object(h.jsxs)(r.e,{"style":{"display":"flex","flexDirection":"row","alignItems":"center","marginBottom":"10px"},"children":[Object(h.jsx)(c.c,{"block":!0,"style":{"marginRight":"5px"},"color":"warning","shape":"rounded","onClick":function onClick(){D([]),A([]),t&&t([])},"children":"重置"}),Object(h.jsx)(c.c,{"block":!0,"style":{"marginLeft":"5px"},"color":"primary","shape":"rounded","onClick":function onClick(){T(!1)},"children":"确定"})]})]})})]})}},"600":function(e,t,n){"use strict";var a=n(250);t.a=a.a}}]);