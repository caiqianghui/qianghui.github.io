(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"195":function(e,t,n){"use strict";n.d(t,"b",(function(){return getUserSelections})),n.d(t,"d",(function(){return getWarehouseStock})),n.d(t,"c",(function(){return getWarehouseBatchStock})),n.d(t,"a",(function(){return getSelections}));var a=n(16),r=n(22),c=n(162);function getUnits(e){return _getUnits.apply(this,arguments)}function _getUnits(){return(_getUnits=Object(r.a)(Object(a.a)().mark((function _callee(e){return Object(a.a)().wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.get("/api/v1/qudaoyi/product_manage/units/selection",{"params":e}));case 1:case"end":return t.stop()}}),_callee)})))).apply(this,arguments)}function getPricingSystems(e){return _getPricingSystems.apply(this,arguments)}function _getPricingSystems(){return(_getPricingSystems=Object(r.a)(Object(a.a)().mark((function _callee2(e){return Object(a.a)().wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.get("/api/v1/qudaoyi/price_manage/pricing_systems/selection",{"params":e}));case 1:case"end":return t.stop()}}),_callee2)})))).apply(this,arguments)}function getCategories(e){return _getCategories.apply(this,arguments)}function _getCategories(){return(_getCategories=Object(r.a)(Object(a.a)().mark((function _callee4(e){return Object(a.a)().wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.get("/api/v1/qudaoyi/product_manage/categories/selection",{"params":e}));case 1:case"end":return t.stop()}}),_callee4)})))).apply(this,arguments)}function getBrands(e){return _getBrands.apply(this,arguments)}function _getBrands(){return(_getBrands=Object(r.a)(Object(a.a)().mark((function _callee5(e){return Object(a.a)().wrap((function _callee5$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.get("/api/v1/qudaoyi/product_manage/brands/selection",{"params":e}));case 1:case"end":return t.stop()}}),_callee5)})))).apply(this,arguments)}function getUserSelections(e){return _getUserSelections.apply(this,arguments)}function _getUserSelections(){return(_getUserSelections=Object(r.a)(Object(a.a)().mark((function _callee7(e){return Object(a.a)().wrap((function _callee7$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.get("/api/v1/account/users/selection",{"params":e}));case 1:case"end":return t.stop()}}),_callee7)})))).apply(this,arguments)}function getWarehouses(e){return _getWarehouses.apply(this,arguments)}function _getWarehouses(){return(_getWarehouses=Object(r.a)(Object(a.a)().mark((function _callee8(e){return Object(a.a)().wrap((function _callee8$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.get("/api/v1/qudaoyi/warehouse_manage/warehouses/selection",{"params":e}));case 1:case"end":return t.stop()}}),_callee8)})))).apply(this,arguments)}function getWarehouseStock(e){return _getWarehouseStock.apply(this,arguments)}function _getWarehouseStock(){return(_getWarehouseStock=Object(r.a)(Object(a.a)().mark((function _callee9(e){return Object(a.a)().wrap((function _callee9$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.get("/api/v1/qudaoyi/warehouse_manage/warehouses/warehouse_stock",{"params":e}));case 1:case"end":return t.stop()}}),_callee9)})))).apply(this,arguments)}function getWarehouseBatchStock(e){return _getWarehouseBatchStock.apply(this,arguments)}function _getWarehouseBatchStock(){return(_getWarehouseBatchStock=Object(r.a)(Object(a.a)().mark((function _callee10(e){return Object(a.a)().wrap((function _callee10$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.get("/api/v1/qudaoyi/warehouse_manage/warehouses/batch_stock",{"params":e}));case 1:case"end":return t.stop()}}),_callee10)})))).apply(this,arguments)}function getTabSelections(e,t){return _getTabSelections.apply(this,arguments)}function _getTabSelections(){return(_getTabSelections=Object(r.a)(Object(a.a)().mark((function _callee17(e,t){return Object(a.a)().wrap((function _callee17$(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",c.a.get("/api/v1/".concat(e,"/selection"),{"params":t}));case 1:case"end":return n.stop()}}),_callee17)})))).apply(this,arguments)}function getSelections(e,t){return _getSelections.apply(this,arguments)}function _getSelections(){return(_getSelections=Object(r.a)(Object(a.a)().mark((function _callee18(e,t){return Object(a.a)().wrap((function _callee18$(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e,n.next="units"===n.t0?3:"warehouses"===n.t0?4:"categories"===n.t0?5:"brands"===n.t0?6:"pricing_systems"===n.t0?7:8;break;case 3:return n.abrupt("return",getUnits(t));case 4:return n.abrupt("return",getWarehouses(t));case 5:return n.abrupt("return",getCategories(t));case 6:return n.abrupt("return",getBrands(t));case 7:return n.abrupt("return",getPricingSystems(t));case 8:return n.abrupt("return",getTabSelections(e,t));case 9:case"end":return n.stop()}}),_callee18)})))).apply(this,arguments)}},"438":function(e,t,n){"use strict";n.r(t);var a=n(18),r=n(140),c=n(143),s=n(20),i=(n(210),n(900)),u=n(195),o=n(891),l=n(190),p=n.n(l),b=n(136);t.default=function(e){var t=e.onChange,n=e.isDisable,f=e.placeholder,h=e.multiple,g=e.right,d=e.onSelect,j=Object(s.useState)(1),m=Object(a.a)(j,2),_=m[0],O=m[1],y=Object(s.useState)(),x=Object(a.a)(y,2),S=x[0],v=x[1],k=Object(s.useState)(!1),w=Object(a.a)(k,2),C=w[0],W=w[1],U=Object(s.useState)([]),q=Object(a.a)(U,2),B=q[0],N=q[1],$=Object(s.useState)(!1),T=Object(a.a)($,2),P=T[0],A=T[1],J=Object(s.useState)([]),L=Object(a.a)(J,2),M=L[0],z=L[1],D=Object(s.useState)([]),E=Object(a.a)(D,2),H=E[0],I=E[1],V=Object(s.useState)(""),Y=Object(a.a)(V,2),F=Y[0],G=Y[1];Object(s.useEffect)((function(){e.value&&0===B.filter((function(t){return t.id===e.value})).length&&(t&&t(e.value),K({"id_eq":e.value}))}),[e.value]);var K=function getUser(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;W(!0),Object(u.b)({"page":t,"q":e}).then((function(n){if(200===n.code&&n.data){var a=n.data.datas;1===t?(null!=e&&e.id_eq&&(z([a[0].name]),G(a[0].name)),N(a)):N(B.concat(a)),O(t),v(n.data.info),W(!1)}})).catch((function(e){W(!1),o.b.error(e.tips)}))},Q=Object(l.debounce)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;G(e),K({"name_cont":e},t)}),500);return Object(b.jsxs)(r.e,{"className":"form-field","onClick":function onClick(){A(!n),B.length||K()},"children":[Object(b.jsxs)(r.e,{"className":"form-field-content","style":{"justifyContent":g?"flex-end":"space-between"},"children":[M.length?Object(b.jsx)(r.e,{"className":"form-field-content-text","children":M.map((function(e,t){return Object(b.jsx)(r.d,{"className":h?"form-field-content-text-multiple":"","children":e},t)}))}):Object(b.jsx)(r.d,{"className":"form-field-content-placeholder","children":f||" "}),Object(b.jsx)(i.a,{"style":{"marginLeft":"5px"}})]}),Object(b.jsx)(c.z,{"visible":P,"onMaskClick":function onMaskClick(){A(!1)},"bodyStyle":{"height":.9*window.innerHeight+"px"},"children":Object(b.jsxs)(r.e,{"className":"form-field-popup","children":[Object(b.jsx)(c.C,{"value":F,"onClear":function onClear(){return Q()},"onChange":G,"onSearch":function onSearch(){return Q(F)}}),Object(b.jsxs)(r.e,{"className":"form-field-popup-main","children":[Object(b.jsxs)(r.c,{"style":{"height":"100%"},"scrollY":!0,"lowerThreshold":200,"onScrollToLower":p.a.throttle((function(){S&&B.length!==S.total_count&&!C&&Q(F,_+1)}),1e3,{"leading":!0,"trailing":!1}),"children":[Object(b.jsx)(c.e,{"multiple":h,"defaultValue":e.value?[e.value]:[],"children":B.map((function(e,n){return Object(b.jsx)(c.e.Item,{"value":e.id,"onClick":function onClick(){h?M.find((function(t){return t===e.name}))?(z(M.filter((function(t){return t!==e.name}))),I(H.filter((function(t){return t!==e.id}))),d&&d(H.filter((function(t){return t!==e.id})))):(z(M.concat(e.name)),I(H.concat(e.id)),t&&t(H.concat(e.id))):(z([e.name===M[0]?"":e.name]),t&&t(e.name===M[0]?null:e.id),d&&d(e.name===M[0]?null:e),A(!1))},"children":Object(b.jsxs)(r.e,{"className":"form-field-popup-main-item","children":[Object(b.jsx)(r.e,{"className":"form-field-popup-main-item-acatar","children":e.avatar?Object(b.jsx)(c.o,{"src":e.avatar}):e.name[0]}),Object(b.jsxs)(r.e,{"children":[Object(b.jsx)(r.e,{"children":e.name}),Object(b.jsx)(r.e,{"className":"orm-field-popup-main-item-email","children":e.email})]})]})},n)}))}),!B.length&&!C&&Object(b.jsx)(r.d,{"style":{"display":"block","textAlign":"center","marginTop":"20px"},"children":"暂无数据"})]}),C&&Object(b.jsxs)(r.d,{"style":{"display":"block","textAlign":"center","marginTop":"20px"},"children":["加载中",Object(b.jsx)(c.k,{})]})]}),Object(b.jsx)(c.c,{"onClick":function onClick(){return A(!1)},"block":!0,"children":"关闭"})]})})]})}}}]);