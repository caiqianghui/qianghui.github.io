(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{"154":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"h",(function(){return getRules})),__webpack_require__.d(__webpack_exports__,"a",(function(){return calcFieldValue})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getCloudToken})),__webpack_require__.d(__webpack_exports__,"j",(function(){return getZOHOtoken})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getMeetStr})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getMeetValueTip})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getExecutionValueTip})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getLayoutRuleResult})),__webpack_require__.d(__webpack_exports__,"l",(function(){return thousandAbdDecimal})),__webpack_require__.d(__webpack_exports__,"k",(function(){return isMeetConditions})),__webpack_require__.d(__webpack_exports__,"i",(function(){return getSelectQuery})),__webpack_require__.d(__webpack_exports__,"g",(function(){return getModuleText}));var _Users_caiqianghui_work_Bolg_qianghui_github_io_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_Users_caiqianghui_work_Bolg_qianghui_github_io_node_modules_babel_runtime_helpers_esm_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(16),_Users_caiqianghui_work_Bolg_qianghui_github_io_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(22),_Users_caiqianghui_work_Bolg_qianghui_github_io_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(134),_tarojs_taro__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(699),_tarojs_taro__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(917),antd__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(891),dayjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(157),dayjs__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_7__),_http_http__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(170);function getRules(e){var t=[];if(e.validations.presence){["Fields::TextField","Fields::TextAreaField","Fields::PercentField","Fields::IntegerField","Fields::DecimalField"].find((function(t){return t===e.type}))?t.push({"required":!0,"message":"请输入"+e.label}):t.push({"required":!0,"message":e.label+"为空"})}if(e.validations.length&&0!==e.validations.length.maximum&&t.push({"max":e.validations.length.maximum}),e.validations.numericality){var a={},n=0,i=0;"greater_than"===e.validations.numericality.lower_bound_check?(n=e.validations.numericality.lower_bound_value+1,a.min=n):"greater_than_or_equal_to"===e.validations.numericality.lower_bound_check&&(n=e.validations.numericality.lower_bound_value,a.min=n),"less_than"===e.validations.numericality.upper_bound_check?(i=e.validations.numericality.upper_bound_value-1,a.max=i):"less_than_or_equal_to"===e.validations.numericality.upper_bound_check&&(i=e.validations.numericality.upper_bound_value,a.max=i),a.message=e.label+"须在"+n+"-"+i+"之间",Object.keys(a).length>0&&t.push(Object(_Users_caiqianghui_work_Bolg_qianghui_github_io_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_Users_caiqianghui_work_Bolg_qianghui_github_io_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},a),{},{"type":"number"}))}return"Fields::EmailField"===e.type&&t.push({"type":"email","message":e.label+"不是一个有效的email"}),"Fields::LinkField"===e.type&&t.push({"type":"url","message":e.label+"不是一个有效的url"}),t}function calcFieldValue(formula,fields,data,sub_label,data_item){var newFormula=formula;console.log("fields",fields.label),fields.forEach((function(e){newFormula=sub_label&&data_item?newFormula.replace("/[".concat(sub_label,".").concat(e.label,"]/g"),data_item[e.name]&&data_item[e.name]._isAdayjsObject?dayjs__WEBPACK_IMPORTED_MODULE_7___default()(data_item[e.name]).format("YYYY-MM-DD"):data_item[e.name]||0):data[e.name]&&data[e.name]._isAdayjsObject?newFormula.replace("/[".concat(e.label,"]/g"),dayjs__WEBPACK_IMPORTED_MODULE_7___default()(data[e.name]).format("YYYY-MM-DD")):newFormula.replace("/[".concat(e.label,"]/g"),data[e.name]||("Fields::TextField"===e.type?"":0))}));try{var result=eval(newFormula);return console.log(newFormula,result),"number"==typeof result?Math.round(100*result)/100:result}catch(e){return console.log(newFormula,e),null}}function refreshCloudToken(e){return new Promise(function(){var t=Object(_Users_caiqianghui_work_Bolg_qianghui_github_io_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_Users_caiqianghui_work_Bolg_qianghui_github_io_node_modules_babel_runtime_helpers_esm_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__.a)().mark((function _callee(t,a){var n,i;return Object(_Users_caiqianghui_work_Bolg_qianghui_github_io_node_modules_babel_runtime_helpers_esm_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__.a)().wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:n=Object(_tarojs_taro__WEBPACK_IMPORTED_MODULE_4__.a)("expires_in"),i=Object(_tarojs_taro__WEBPACK_IMPORTED_MODULE_4__.a)("access_token"),console.log("accessToken",i),i&&"refresh_token"===e.grant_type&&(!n||dayjs__WEBPACK_IMPORTED_MODULE_7___default.a.unix(Number(n)).diff(dayjs__WEBPACK_IMPORTED_MODULE_7___default()(),"minute")>1)?t({"access_token":i}):_http_http__WEBPACK_IMPORTED_MODULE_8__.a.post("/oauth/token",e,{"headers":{"Accept":"application/json"}}).then((function(e){var a=e.data;a.refresh_token&&(Object(_tarojs_taro__WEBPACK_IMPORTED_MODULE_4__.d)({"key":"refresh_token","data":a.refresh_token}),Object(_tarojs_taro__WEBPACK_IMPORTED_MODULE_4__.d)({"key":"access_token","data":a.access_token}),Object(_tarojs_taro__WEBPACK_IMPORTED_MODULE_4__.d)({"key":"expires_in","data":a.created_at+a.expires_in})),t(a)})).catch((function(e){Object(_tarojs_taro__WEBPACK_IMPORTED_MODULE_5__.a)(),e.toString().indexOf("Request failed with status code 400")&&antd__WEBPACK_IMPORTED_MODULE_6__.b.error("token 过期, 请退出重新进入Zoho CRM")}));case 4:case"end":return a.stop()}}),_callee)})));return function(e,a){return t.apply(this,arguments)}}())}function getCloudToken(){return _getCloudToken.apply(this,arguments)}function _getCloudToken(){return(_getCloudToken=Object(_Users_caiqianghui_work_Bolg_qianghui_github_io_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_Users_caiqianghui_work_Bolg_qianghui_github_io_node_modules_babel_runtime_helpers_esm_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__.a)().mark((function _callee3(){var e,t,a,n;return Object(_Users_caiqianghui_work_Bolg_qianghui_github_io_node_modules_babel_runtime_helpers_esm_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__.a)().wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:if(e=Object(_tarojs_taro__WEBPACK_IMPORTED_MODULE_4__.a)("expires_in"),t=Object(_tarojs_taro__WEBPACK_IMPORTED_MODULE_4__.a)("access_token"),a=Object(_tarojs_taro__WEBPACK_IMPORTED_MODULE_4__.a)("refresh_token"),!t||e&&!(dayjs__WEBPACK_IMPORTED_MODULE_7___default.a.unix(Number(e)).diff(dayjs__WEBPACK_IMPORTED_MODULE_7___default()(),"minute")>1)){i.next=5;break}return i.abrupt("return","Bearer ".concat(t));case 5:if(!a||"undefined"===a){i.next=10;break}return i.next=8,refreshCloudToken({"grant_type":"refresh_token","refresh_token":a}).then((function(e){return e?"Bearer ".concat(e.access_token):null}));case 8:return n=i.sent,i.abrupt("return",n);case 10:return i.abrupt("return",null);case 11:case"end":return i.stop()}}),_callee3)})))).apply(this,arguments)}function refreshZOHOToken(){return new Promise(function(){var e=Object(_Users_caiqianghui_work_Bolg_qianghui_github_io_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_Users_caiqianghui_work_Bolg_qianghui_github_io_node_modules_babel_runtime_helpers_esm_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__.a)().mark((function _callee2(e,t){var a;return Object(_Users_caiqianghui_work_Bolg_qianghui_github_io_node_modules_babel_runtime_helpers_esm_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__.a)().wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,getCloudToken();case 2:(a=n.sent)&&_http_http__WEBPACK_IMPORTED_MODULE_8__.a.post("/api/v1/functions/current_user_zoho_access_token/execute",{},{"headers":{"Authorization":a}}).then((function(a){if(200===a.data.code){var n=a.data.data.result;Object(_tarojs_taro__WEBPACK_IMPORTED_MODULE_4__.d)({"key":"zoho_access_token","data":n.zoho_access_token}),Object(_tarojs_taro__WEBPACK_IMPORTED_MODULE_4__.d)({"key":"expiration_time","data":n.expiration_time}),e(n)}else t()})).catch((function(e){antd__WEBPACK_IMPORTED_MODULE_6__.b.error("网络错误"),Object(_tarojs_taro__WEBPACK_IMPORTED_MODULE_5__.a)(),t()}));case 4:case"end":return n.stop()}}),_callee2)})));return function(t,a){return e.apply(this,arguments)}}())}function getZOHOtoken(){return _getZOHOtoken.apply(this,arguments)}function _getZOHOtoken(){return(_getZOHOtoken=Object(_Users_caiqianghui_work_Bolg_qianghui_github_io_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_Users_caiqianghui_work_Bolg_qianghui_github_io_node_modules_babel_runtime_helpers_esm_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__.a)().mark((function _callee4(){var e,t,a;return Object(_Users_caiqianghui_work_Bolg_qianghui_github_io_node_modules_babel_runtime_helpers_esm_regeneratorRuntime__WEBPACK_IMPORTED_MODULE_1__.a)().wrap((function _callee4$(n){for(;;)switch(n.prev=n.next){case 0:if(e=Object(_tarojs_taro__WEBPACK_IMPORTED_MODULE_4__.a)("zoho_access_token"),t=Object(_tarojs_taro__WEBPACK_IMPORTED_MODULE_4__.a)("expiration_time"),console.log("zoho_access_token",e),t&&!(t&&dayjs__WEBPACK_IMPORTED_MODULE_7___default()(t||0)<dayjs__WEBPACK_IMPORTED_MODULE_7___default()(new Date))){n.next=10;break}return n.next=6,refreshZOHOToken().then((function(e){return e?"".concat(e.zoho_access_token):null})).catch((function(){return null}));case 6:return a=n.sent,n.abrupt("return",a);case 10:return n.abrupt("return",e?"".concat(e):null);case 11:case"end":return n.stop()}}),_callee4)})))).apply(this,arguments)}function isDate(e){return!!new RegExp(/^[1-9]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])\s+(20|21|22|23|[0-1]\d):[0-5]\d:[0-5]\d$/).test(e)}function initSearchCondition(e){var t=[];return(e||[]).forEach((function(e){var a={};a.id=e.id,a.field_id=e.field_id,a.criteria_option=e.criteria_option,a.criteria_value=Object(_Users_caiqianghui_work_Bolg_qianghui_github_io_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(e.criteria_value),a.show_field_condition=e.show_field_condition,e.criteria_value[0]&&isDate(e.criteria_value[0])&&(a.criteria_value[0]=dayjs__WEBPACK_IMPORTED_MODULE_7___default()(e.criteria_value[0])),e.criteria_value[1]&&isDate(e.criteria_value[1])&&(a.criteria_value[1]=dayjs__WEBPACK_IMPORTED_MODULE_7___default()(e.criteria_value[1])),t.push(a)})),t}function getMeetStr(e){var t="满";return e.ladder_promotion||("product"===e.category&&"buy_and_give"===e.promotion_rule?t="每满":"combined"===e.category?("buy_and_give"===e.promotion_rule||"amount"===e.promotion_type&&"direct_reduction"===e.promotion_rule)&&(t="每满"):"whole_order"===e.category&&"discount"!==e.promotion_rule&&(t="每满")),t}function getMeetValueTip(e){return"buy_and_give"===e.promotion_rule?"".concat("amount"===e.promotion_type?"元":"","，赠送"):"direct_reduction"===e.promotion_rule?"".concat("amount"===e.promotion_type?"元":"","，").concat("product"!==e.category&&"amount"===e.promotion_type?"订单金额减":"订货价统一降至"):"discount"===e.promotion_rule?"".concat("amount"===e.promotion_type?"元":"","，").concat("product"!==e.category&&"amount"===e.promotion_type?"订单金额打折":"在原订货价基础上再打折"):null}function getExecutionValueTip(e){return"buy_and_give"===e.promotion_rule?"个":"direct_reduction"===e.promotion_rule?"元":"discount"===e.promotion_rule?"%":null}function isMeetCondition(e,t,a){var n=a.filter((function(t){return t.id===e.field_id}))[0];if(!n)return!1;if(null!=n&&n.name){var i=t[null==n?void 0:n.name];if(-1!==["IS","ON","EQ"].indexOf(e.criteria_option)&&i===e.criteria_value[0]||-1!==["ISNT","NOT_EQ"].indexOf(e.criteria_option)&&i!==e.criteria_value[0]||"IN"===e.criteria_option&&-1!==(e.criteria_value[0]||[]).indexOf(i)||"NOT_IN"===e.criteria_option&&-1===(e.criteria_value[0]||[]).indexOf(i)||"CONTAINS"===e.criteria_option&&-1!==String(i).indexOf(e.criteria_value[0])||"DOESNT_CONTAINS"===e.criteria_option&&-1===String(i).indexOf(e.criteria_value[0])||"ARRAY_CONTAINS"===e.criteria_option&&-1!==(i||[]).indexOf(e.criteria_value[0])||"ARRAY_DOESNT_CONTAINS"===e.criteria_option&&-1===(i||[]).indexOf(e.criteria_value[0])||"STARTS_WITH"===e.criteria_option&&String(i).startsWith(e.criteria_value[0])||"ENDS_WITH"===e.criteria_option&&String(i).endsWith(e.criteria_value[0])||"IS_EMPTY"===e.criteria_option&&-1!==["","null","undefined"].indexOf(String(i))||"IS_NOT_EMPTY"===e.criteria_option&&-1===["","null","undefined"].indexOf(String(i))||"BETWEEN"===e.criteria_option&&i>=e.criteria_value[0]&&i<=e.criteria_value[1]||"NOT_BETWEEN"===e.criteria_option&&i<e.criteria_value[0]&&i>e.criteria_value[1]||-1!==["BEFORE","LT"].indexOf(e.criteria_option)&&i<e.criteria_value[0]||"LTEQ"===e.criteria_option&&i<=e.criteria_value[0]||-1!==["AFTER","GT"].indexOf(e.criteria_option)&&i>e.criteria_value[0]||"GTEQ"===e.criteria_option&&i>=e.criteria_value[0]||"SELECTED"===e.criteria_option&&!0===i||"NOT_SELECTED"===e.criteria_option&&!1===i)return!0}return!1}function getLayoutRuleResult(layoutRule,allValues,sections){var isMeet=!1,fields=sections.map((function(e){return e.fields})).flat(),meets=[];if(layoutRule.conditions.forEach((function(e){meets.push(isMeetCondition(e,allValues,fields))})),"AND"===layoutRule.patten||!layoutRule.patten&&!layoutRule.custom_patten)isMeet=!0,meets.forEach((function(e){isMeet=isMeet&&e}));else if("OR"===layoutRule.patten)meets.forEach((function(e){isMeet=isMeet||e}));else if(layoutRule.custom_patten){var str=layoutRule.custom_patten;meets.forEach((function(e,t){str=str.replace("[".concat(t+1,"]"),e)})),console.log(str),str=str.replace(/OR/g,"||").replace(/AND/g,"&&"),console.log("str=======>",str);try{isMeet=!0===eval(str)}catch(e){console.log(layoutRule,e),isMeet=!1}}var newSections=Object(_Users_caiqianghui_work_Bolg_qianghui_github_io_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(sections),clearValues={};return layoutRule.actions.forEach((function(e){"field"===e.show_type?newSections.forEach((function(t,a){t.fields.forEach((function(t,n){-1!==e.values.indexOf(t.id)&&(newSections[a].fields[n].hidden=!isMeet,isMeet||(clearValues[newSections[a].fields[n].name]=null))}))})):"section"===e.show_type?newSections.forEach((function(t,a){-1!==e.values.indexOf(t.id)&&(newSections[a].hidden=!isMeet,isMeet||(clearValues[t.fields[0].name]=null))})):"presence_field"===e.show_type&&newSections.forEach((function(t,a){t.fields.forEach((function(t,n){-1!==e.values.indexOf(t.id)&&(newSections[a].fields[n].validations.presence=isMeet)}))}))})),[newSections,clearValues]}function thousandAbdDecimal(e){var t=Number(e),a="CN￥";return a+=t?t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,"):"0.00"}function isMeetConditions(condition,condition_items,data,fields){if(!condition)return!1;var isMeet=!1,meets=[];if(condition_items.forEach((function(e){meets.push(isMeetCondition(e,data,fields))})),"AND"===condition.patten||!condition.patten&&!condition.custom_patten)isMeet=!0,meets.forEach((function(e){isMeet=isMeet&&e}));else if("OR"===condition.patten)meets.forEach((function(e){isMeet=isMeet||e}));else if(condition.custom_patten){var str=condition.custom_patten;meets.forEach((function(e,t){str=str.replaceAll("[".concat(t+1,"]"),e)})),str=str.replaceAll("OR","||").replaceAll("AND","&&");try{isMeet=!0===eval(str)}catch(e){console.log(condition,e),isMeet=!1}}return isMeet}function getSelectQuery(e,t,a){var n,i,_="",o=null==t?void 0:t.find((function(e){return e.active&&"Street"===e.api_name})),r=[];o&&o.value.forEach((function(e,t){r=r.concat(Object(_Users_caiqianghui_work_Bolg_qianghui_github_io_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_Users_caiqianghui_work_Bolg_qianghui_github_io_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},o),{},{"api_name":0===t?"Province":1===t?"City1":"Street","value":e}))}));var c=null==t?void 0:t.filter((function(e){return e.active&&"Street"!==e.api_name})).concat(r);null==c||c.forEach((function(e,t){1===c.length?"="===e.node.key||"!="===e.node.key?_+="((".concat(e.api_name," ").concat(e.node.key," '").concat(e.value||"","')"):"like"===e.node.key||"not lik"===e.node.key?_+="(".concat(e.api_name," ").concat(e.node.key," '%").concat(e.value||"","%')"):"starts_with"===e.node.key?_+="(".concat(e.api_name," like '").concat(e.value||"","%')"):"ends_with"===e.node.key?_+="(".concat(e.api_name," like '%").concat(e.value||"","')"):_+="(".concat(e.api_name," ").concat(e.node.key,")"):t===c.length-1?"="===e.node.key||"!="===e.node.key?_+="((".concat(e.api_name," ").concat(e.node.key," '").concat(e.value||"","')"):("like"===e.node.key||"not lik"===e.node.key?_+="((".concat(e.api_name," ").concat(e.node.key," '%").concat(e.value||"","%')"):"starts_with"===e.node.key?_+="((".concat(e.api_name," like '").concat(e.value||"","%')"):"ends_with"===e.node.key?_+="((".concat(e.api_name," like '%").concat(e.value||"","')"):_+="((".concat(e.api_name," ").concat(e.node.key,")"),_+=") "):("="===e.node.key||"!="===e.node.key?_+="((".concat(e.api_name," ").concat(e.node.key," '").concat(e.value||"","')"):"like"===e.node.key||"not lik"===e.node.key?_+="((".concat(e.api_name," ").concat(e.node.key," '%").concat(e.value||"","%')"):"starts_with"===e.node.key?_+="((".concat(e.api_name," like '").concat(e.value||"","%')"):"ends_with"===e.node.key?_+="((".concat(e.api_name," like '%").concat(e.value||"","')"):_+="((".concat(e.api_name," ").concat(e.node.key,")"),_+=" and ")}));var l="select "+(null===(n=a.find((function(t){return t.moduleName===e})))||void 0===n||null===(i=n.selects)||void 0===i?void 0:i.join(","));return null==c||c.forEach((function(){_+=")"})),l+=" from ".concat(e," where ").concat(_)}function getModuleText(e,t){var a={"name":"","description":"","phone":"","amount":0,"rating":""};switch(t){case"Leads":a.name=e.Company,a.description=e.Full_Name,a.rating=e.Rating,a.phone=e.Phone;break;case"Deals":a.name=e.Deal_Name,a.description=e.Stage,a.amount=e.Amount,a.rating=e.Rating,a.phone=e.phone;break;case"Accounts":a.name=e.Account_Name,a.description=e.Department,a.phone=e.Phone;break;case"Public_Leads":a.name=e.Name,a.description=e.Last_Name,a.phone=e.Phone,a.rating=e.Rating;break;case"TelephoneDevelopment":a.name=e.company_name||"",a.description=e.Name||"",a.phone=e.Phone||e.phone||"",a.rating=e.Rating||"";break;case"CompetitionInformationFeedback":a.name=e.Name||"",a.description=e.competition_model||"",a.rating=e.laser_brand||"";break;default:a.name=e.Name||"",a.description=e.Last_Name||"",a.phone=e.Phone||e.phone||"",a.rating=e.Rating||""}return a}},"162":function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(6),i=a(5),_=a(13),o=a(10),r=a(11),c=a(43),l=a(14),u=a(891),s=a(185),d=(Error,{"200":"服务器成功返回请求的数据。","201":"新建或修改数据成功。","202":"一个请求已经进入后台排队（异步任务）。","204":"删除数据成功。","400":"发出的请求有错误，服务器没有进行新建或修改数据的操作。","401":"用户没有权限（令牌、用户名、密码错误）。","403":"用户得到授权，但是访问是被禁止的。","404":"发出的请求针对的是不存在的记录，服务器没有进行操作。","406":"请求的格式不可得。","410":"请求的资源被永久删除，且不会再得到的。","422":"当创建一个对象时，发生一个验证错误。","500":"服务器发生错误，请检查服务器。","502":"网关错误。","503":"服务不可用，服务器暂时过载或维护。","504":"网关超时。"}),p=function(){function HttpClient(){Object(i.a)(this,HttpClient)}return Object(n.a)(HttpClient,null,[{"key":"parseResponse","value":function parseResponse(e){var t=e.data;return console.log("data",t),200===t.code||(t.tips=t.tips||(null==t?void 0:t.error)||d[t.code],t.tips&&u.b.error(t.tips)),t}},{"key":"get","value":function get(e,t){return s.a.get(e,t).then((function(e){return HttpClient.parseResponse(e)}))}},{"key":"put","value":function put(e,t){return s.a.put(e,t).then((function(e){return HttpClient.parseResponse(e)}))}},{"key":"delete","value":function _delete(e,t){return s.a.delete(e,t).then((function(e){return HttpClient.parseResponse(e)}))}},{"key":"post","value":function post(e,t,a){return s.a.post(e,t,a).then((function(e){return HttpClient.parseResponse(e)}))}}]),HttpClient}()},"170":function(e,t,a){"use strict";var n=a(16),i=a(22),_=a(169),o=a.n(_).a.create({"baseURL":"https://cloud.netfarmer.com.cn","timeout":3e4});o.interceptors.request.use((function(e){return new Promise(function(){var t=Object(i.a)(Object(n.a)().mark((function _callee(t){return Object(n.a)().wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:t(e);case 1:case"end":return a.stop()}}),_callee)})));return function(e){return t.apply(this,arguments)}}())}),(function(e){return Promise.reject(e)})),t.a=o},"172":function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(16),i=a(134),_=a(22),o=a(5),r=a(6),c=a(211),l=a(239),u=a(154),s="Bearer NYbImmWjVdyN8Dh8PPq4XqVuKNCNWcp5dCDa8o2Xtyg",d="/api/v1/functions/forward_request/callback",p=function(){function NetCloudFun(){Object(o.a)(this,NetCloudFun)}var e,t,a,p;return Object(r.a)(NetCloudFun,null,[{"key":"get","value":(p=Object(_.a)(Object(n.a)().mark((function _callee(e,t,a){var _;return Object(n.a)().wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(u.j)();case 2:if(!(_=n.sent)){n.next=7;break}return n.abrupt("return",c.a.post(d,{"method":"GET","url":"https://www.zohoapis.com.cn"+e,"access_token":_,"payload":t},{"headers":Object(i.a)({"Content-Type":"application/json","Authorization":s},a)}));case 7:return n.abrupt("return",{"data":null,"info":null});case 8:case"end":return n.stop()}}),_callee)}))),function get(e,t,a){return p.apply(this,arguments)})},{"key":"post","value":(a=Object(_.a)(Object(n.a)().mark((function _callee2(e,t){var a;return Object(n.a)().wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(u.j)();case 2:if(!(a=n.sent)){n.next=7;break}return n.abrupt("return",l.a.post(d,{"method":"POST","url":"https://www.zohoapis.com.cn"+e,"access_token":a,"payload":t},{"headers":{"Content-Type":"application/json","Authorization":s}}));case 7:return n.abrupt("return",{"data":null,"info":null});case 8:case"end":return n.stop()}}),_callee2)}))),function post(e,t){return a.apply(this,arguments)})},{"key":"delete","value":(t=Object(_.a)(Object(n.a)().mark((function _callee3(e,t){var a;return Object(n.a)().wrap((function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(u.j)();case 2:if(!(a=n.sent)){n.next=7;break}return n.abrupt("return",c.a.post(d,{"method":"DELETE","url":"https://www.zohoapis.com.cn"+e,"access_token":a,"payload":t},{"headers":{"Content-Type":"application/json","Authorization":s}}));case 7:return n.abrupt("return",{"data":null,"info":null});case 8:case"end":return n.stop()}}),_callee3)}))),function _delete(e,a){return t.apply(this,arguments)})},{"key":"put","value":(e=Object(_.a)(Object(n.a)().mark((function _callee4(e,t){var a;return Object(n.a)().wrap((function _callee4$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(u.j)();case 2:if(!(a=n.sent)){n.next=7;break}return n.abrupt("return",l.a.post(d,{"method":"PUT","url":"https://www.zohoapis.com.cn"+e,"access_token":a,"payload":t},{"headers":{"Content-Type":"application/json","Authorization":s}}));case 7:return n.abrupt("return",{"data":null,"info":null});case 8:case"end":return n.stop()}}),_callee4)}))),function put(t,a){return e.apply(this,arguments)})}]),NetCloudFun}()},"185":function(e,t,a){"use strict";var n=a(16),i=a(22),_=a(169),o=a.n(_),r=a(154),c=o.a.create({"baseURL":"https://cloud.netfarmer.com.cn","timeout":3e4});c.interceptors.request.use((function(e){return new Promise(function(){var t=Object(i.a)(Object(n.a)().mark((function _callee(t){var a,i;return Object(n.a)().wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(!e.url){n.next=8;break}if(console.log(e.url),"/api/v1/functions/single_sign_on/execute"===e.url||"/oauth/token"===e.url){n.next=8;break}return n.next=5,Object(r.b)();case 5:a=n.sent,console.log("cToken",a),a&&(i={"Accept":"application/json","Authorization":a},e.headers=i);case 8:t(e);case 9:case"end":return n.stop()}}),_callee)})));return function(e){return t.apply(this,arguments)}}())}),(function(e){return Promise.reject(e)})),t.a=c},"187":function(e,t,a){"use strict";t.a={"ltcMenu":{"category":"menu","name":"L T C","children":[{"category":"sub_menu","type":"crm","id":"181037000075716763","name":"线索","moduleName":"Leads","pathname":"zoho/list","permissions":!1,"btns":[{"key":"topublicleads1","text":"丢入公海"}],"selects":["Company","Full_Name","Phone","Release_Time"],"screenLayout":[{"api_name":"Rating","field_label":"等级","active":!1,"value":"","type":""},{"api_name":"Last_Name","field_label":"客户联系人","active":!1,"value":"","type":""},{"api_name":"Lead_Source","field_label":"线索来源","active":!1,"value":"","type":""},{"api_name":"Owner","field_label":"线索所有者","active":!1,"value":"","type":""},{"api_name":"Street","field_label":"省/市/区/县","active":!1,"value":"","type":""},{"api_name":"Region","field_label":"客户所属大区","active":!1,"value":"","type":""},{"api_name":"Account_Department","field_label":"客户所属部门","active":!1,"value":"","type":""},{"api_name":"War_Zone","field_label":"客户所属战区","active":!1,"value":"","type":""},{"api_name":"Claimed","field_label":"被申领的线索","active":!1,"value":"","type":""}],"sortFields":[{"api_name":"Release_Time","field_label":"释放日期"},{"api_name":"Rating","field_label":"等级"},{"api_name":"Account_Name","field_label":"客户名称"},{"api_name":"Last_Name","field_label":"客户联系人"},{"api_name":"Lead_Source","field_label":"线索来源"},{"api_name":"Owner","field_label":"线索所有者"},{"api_name":"Last_Activity_Time","field_label":"最近操作时间"}]},{"category":"sub_menu","type":"crm","id":"181037000000060547","permissions":!1,"name":"商机","moduleName":"Deals","pathname":"zoho/list","selects":["Deal_Name","Stage","Amount","Rating","phone"],"screenLayout":[{"api_name":"Deal_Name","field_label":"商机名称","active":!1,"value":"","type":""},{"api_name":"Account_Name","field_label":"客户名称","active":!1,"value":"","type":""},{"api_name":"Stage","field_label":"阶段","active":!1,"value":"","type":""},{"api_name":"Rating","field_label":"等级","active":!1,"value":"","type":""},{"api_name":"Owner","field_label":"商机所有者","active":!1,"value":"","type":""},{"api_name":"Lead_Source","field_label":"线索来源","active":!1,"value":"","type":""}],"sortFields":[{"api_name":"Deal_Name","field_label":"商机名称"},{"api_name":"Account_Name","field_label":"客户名称"},{"api_name":"Stage","field_label":"阶段"},{"api_name":"Rating","field_label":"等级"},{"api_name":"Owner","field_label":"商机所有者"},{"api_name":"Lead_Source","field_label":"线索来源"},{"api_name":"Last_Activity_Time","field_label":"最近操作时间"}]},{"category":"sub_menu","type":"crm","id":"181037000000060567","permissions":!1,"name":"客户","moduleName":"Accounts","pathname":"zoho/list","selects":["Account_Name","Department","Phone"],"screenLayout":[{"api_name":"Account_Name","field_label":"客户名称","active":!1,"value":"","type":""},{"api_name":"Account_Code","field_label":"客户代码","active":!1,"value":"","type":""},{"api_name":"Phone","field_label":"电话","active":!1,"value":"","type":""},{"api_name":"SAP_Code","field_label":"SAP客户标识","active":!1,"value":"","type":""},{"api_name":"Street","field_label":"区/县","active":!1,"value":"","type":""},{"api_name":"Account_Source","field_label":"客户来源","active":!1,"value":"","type":""},{"api_name":"Region","field_label":"客户所属大区","active":!1,"value":"","type":""},{"api_name":"Department","field_label":"客户所属部门","active":!1,"value":"","type":""},{"api_name":"War_Zone","field_label":"客户所属战区","active":!1,"value":"","type":""}],"sortFields":[{"api_name":"Account_Name","field_label":"客户名称"},{"api_name":"Account_Code","field_label":"客户代码"},{"api_name":"Phone","field_label":"电话"},{"api_name":"SAP_Code","field_label":"SAP客户标识"},{"api_name":"Province","field_label":"省"},{"api_name":"District","field_label":"市"},{"api_name":"Account_Source","field_label":"客户来源"}]},{"category":"sub_menu","type":"crm","id":"181037000000299602","permissions":!1,"name":"线索公海","moduleName":"Public_Leads","pathname":"zoho/list","btns":[{"key":"clueclaim1","text":"线索申领"}],"selects":["Name","Last_Name","Phone","Rating"],"screenLayout":[{"api_name":"Rating","field_label":"等级","active":!1,"value":"","type":""},{"api_name":"Last_Name","field_label":"客户联系人","active":!1,"value":"","type":""},{"api_name":"Lead_Source","field_label":"线索来源","active":!1,"value":"","type":""},{"api_name":"Owner","field_label":"线索所有者","active":!1,"value":"","type":""},{"api_name":"Street","field_label":"区/县","active":!1,"value":"","type":""},{"api_name":"Region","field_label":"客户所属大区","active":!1,"value":"","type":""},{"api_name":"Account_Department","field_label":"客户所属部门","active":!1,"value":"","type":""},{"api_name":"War_Zone","field_label":"客户所属战区","active":!1,"value":"","type":""},{"api_name":"Claimed","field_label":"被申领的线索","active":!1,"value":"","type":""}],"sortFields":[{"api_name":"Release_Time","field_label":"释放日期"},{"api_name":"Rating","field_label":"等级"},{"api_name":"Account_Name","field_label":"客户名称"},{"api_name":"Last_Name","field_label":"客户联系人"},{"api_name":"Lead_Source","field_label":"线索来源"},{"api_name":"Owner","field_label":"线索所有者"},{"api_name":"Last_Activity_Time","field_label":"最近操作时间"}]},{"category":"sub_menu","id":"181037000000299603","name":"签到","moduleName":"signin","type":"crm","pathname":"cloud/signin","path":"signin"},{"category":"sub_menu","id":"18103700000299603","name":"客户查重","moduleName":"accounts_h","pathname":"zoho/accounts_h","type":"crm"},{"category":"sub_menu","id":"1811111111231341119603","name":"电话开发","type":"crm","permissions":!1,"moduleName":"TelephoneDevelopment","pathname":"zoho/list","selects":["company_name","Name","phone","Owner","status","Last_dialed_time "],"btns":[{"key":"delete","text":"删除"}],"screenLayout":[{"api_name":"status","field_label":"状态","active":!0,"value":"未拨打","type":"="},{"api_name":"Name","field_label":"名字","active":!1,"value":"","type":""},{"api_name":"phone","field_label":"电话","active":!1,"value":"","type":""},{"api_name":"Owner","field_label":"电话开发所有者","active":!1,"value":"","type":""}],"sortFields":[{"api_name":"status","field_label":"状态"},{"api_name":"Last_dialed_time","field_label":"最近拨打时间"},{"api_name":"Name","field_label":"名字"},{"api_name":"phone","field_label":"电话"}]},{"category":"sub_menu","id":"181037000120484793","name":"竞品价格反馈","type":"crm","moduleName":"CompetitionInformationFeedback","permissions":!1,"pathname":"zoho/Information_h","selects":["Name","laser_brand","payment_method","competition_model","Owner","main_configuration_description "],"screenLayout":[{"api_name":"Name","field_label":"竞品名称","active":!1,"value":"","type":"="},{"api_name":"competition_power","field_label":"竞品功率","active":!1,"value":"","type":""},{"api_name":"final_transaction_price","field_label":"最终成交价","active":!1,"value":"","type":""},{"api_name":"warranty_period","field_label":"质保年限","active":!1,"value":"","type":""}],"sortFields":[{"api_name":"Name","field_label":"竞品名称"},{"api_name":"competition_power","field_label":"竞品功率"},{"api_name":"final_transaction_price","field_label":"最终成交价"},{"api_name":"warranty_period","field_label":"质保年限"}]}]},"ctoMenu":{"category":"menu","name":"C T O","children":[{"category":"sub_menu","name":"合同","permissions":!0,"type":"cloud","moduleName":"Contracts","pathname":"cloud/list","isNew":!1,"isAdmin":!1},{"category":"sub_menu","name":"销售订单","type":"cloud","permissions":!0,"moduleName":"SalesOrder","pathname":"cloud/list","isNew":!0,"isAdmin":!0},{"category":"sub_menu","name":"接待打样","type":"cloud","permissions":!0,"moduleName":"ReceptionProofing","pathname":"cloud/list","isNew":!0,"isAdmin":!0},{"category":"sub_menu","name":"整机发货单","type":"cloud","permissions":!0,"moduleName":"ModelInvoiceOrder","pathname":"cloud/list","isNew":!1,"isAdmin":!0},{"category":"sub_menu","name":"整机退换货","type":"cloud","permissions":!0,"moduleName":"ModelReturnOrder","pathname":"cloud/list","isNew":!1,"isAdmin":!0},{"category":"sub_menu","name":"合同授信","type":"cloud","permissions":!0,"moduleName":"AccountCredit","pathname":"cloud/list","isNew":!0,"isAdmin":!0},{"category":"sub_menu","name":"配件商城优惠券","type":"cloud","permissions":!0,"moduleName":"PartsMallCoupons","pathname":"cloud/list","isNew":!0,"isAdmin":!0},{"category":"sub_menu","name":"非标整机","type":"cloud","permissions":!0,"moduleName":"Non_Standard_Quotation","pathname":"cloud/list","isNew":!0,"isAdmin":!0}]},"signInTypes":[{"label":"拜访B+商机/线索","value":"拜访B+商机/线索","color":"#ec2c64"},{"label":"拜访询盘客户","value":"拜访询盘客户","color":"#584717"},{"label":"拜访其他客户","value":"拜访其他客户","color":"#7e1671"},{"label":"拜访竞品客户","value":"拜访竞品客户","color":"#5cb3cc"},{"label":"陌拜开发","value":"陌拜开发","color":"#69a794"},{"label":"展会开发","value":"展会开发","color":"#d0deaa"},{"label":"回访-自己老客户","value":"回访-自己老客户","color":"#de7622"},{"label":"回访-同事老客户","value":"回访-同事老客户","color":"#69a794"},{"label":"陪同拜访/开发","value":"陪同拜访/开发","color":"#3170a7"}],"signInMoudles":[{"label":"线索","value":"Leads","disabled":!1},{"label":"商机","value":"Deals","disabled":!1},{"label":"线索公海","value":"Public_Leads","disabled":!1}],"dealsBlueprint":[{"label":"资质审查","icon":null,"key":"1","color":"#e972fd"},{"label":"需求分析","icon":null,"key":"2","color":"#4137be"},{"label":"决策体系","icon":null,"key":"3","color":"#fea36a"},{"label":"合约过程","icon":null,"key":"4","color":"#999999"},{"label":"赢单关闭","icon":"LikeOutline","key":"5","color":"#25b52a"},{"label":"丢单关闭","icon":"LikeOutline","key":"6","color":"#eb4d4d"},{"label":"客户计划变更","icon":"LikeOutline","key":"7","color":"#e972fd"}]}},"211":function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(6),i=a(5),_=a(13),o=a(10),r=a(11),c=a(43),l=a(14),u=a(16),s=a(22),d=a(169),p=a.n(d),m=a(154),b=p.a.create({"baseURL":"https://cloud.netfarmer.com.cn","timeout":3e4});b.interceptors.request.use((function(e){return new Promise(function(){var t=Object(s.a)(Object(u.a)().mark((function _callee(t){var a,n;return Object(u.a)().wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(!e.url){i.next=8;break}if(console.log(e.url),"/api/v1/functions/single_sign_on/execute"===e.url||"/oauth/token"===e.url){i.next=8;break}return i.next=5,Object(m.b)();case 5:a=i.sent,console.log("cToken",a),a&&(n={"Accept":"application/json","Authorization":a},e.headers=n);case 8:t(e);case 9:case"end":return i.stop()}}),_callee)})));return function(e){return t.apply(this,arguments)}}())}),(function(e){return Promise.reject(e)}));var f=b,h=(Error,function(){function HttpClient(){Object(i.a)(this,HttpClient)}return Object(n.a)(HttpClient,null,[{"key":"parseResponse","value":function parseResponse(e){var t=e.data;return console.log("parseResponse-data",t),t}},{"key":"get","value":function get(e,t){return f.get(e,t).then((function(e){return HttpClient.parseResponse(e)}))}},{"key":"put","value":function put(e,t){return f.put(e,t).then((function(e){return HttpClient.parseResponse(e)}))}},{"key":"delete","value":function _delete(e,t){return f.delete(e,t).then((function(e){return HttpClient.parseResponse(e)}))}},{"key":"post","value":function post(e,t,a){return f.post(e,t,a).then((function(e){return HttpClient.parseResponse(e)}))}}]),HttpClient}())},"239":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(5),i=a(6),_=a(211),o=a(917),r=function(){function HttpLoading(){Object(n.a)(this,HttpLoading)}return Object(i.a)(HttpLoading,null,[{"key":"get","value":function get(e,t){return Object(o.b)(),_.a.get(e,t).then((function(e){return Object(o.a)(),e})).catch((function(e){return Object(o.a)(),Promise.reject(e)}))}},{"key":"put","value":function put(e,t){return Object(o.b)(),_.a.put(e,t).then((function(e){return Object(o.a)(),e})).catch((function(e){return Object(o.a)(),Promise.reject(e)}))}},{"key":"post","value":function post(e,t,a){return Object(o.b)(),_.a.post(e,t,a).then((function(e){return Object(o.a)(),console.log("HttpLoading.posr-then",e),Promise.resolve(e)})).catch((function(e){return console.log("post",e),Object(o.a)(),Promise.reject(e)}))}}]),HttpLoading}()},"676":function(e,t,a){},"919":function(e,t,a){"use strict";a.r(t);var n=a(7),i=a(134),_=a(18),o=a(140),r=a(20),c=(a(676),a(133)),l=a(699),u=a(19);var s=function SoundOutline(e){return r.createElement("svg",Object.assign({"width":"1em","height":"1em","viewBox":"0 0 48 48","xmlns":"http://www.w3.org/2000/svg","xmlnsXlink":"http://www.w3.org/1999/xlink"},e,{"style":Object.assign({"verticalAlign":"-0.125em"},e.style),"className":["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),r.createElement("g",{"id":"SoundOutline-SoundOutline","stroke":"none","strokeWidth":1,"fill":"none","fillRule":"evenodd"},r.createElement("g",{"id":"SoundOutline-编组"},r.createElement("rect",{"id":"SoundOutline-矩形","fill":"#FFFFFF","opacity":0,"x":0,"y":0,"width":48,"height":48}),r.createElement("path",{"d":"M28.267333,7.42364522 C28.6217345,7.94869119 28.8108515,8.56559899 28.8108515,9.19662571 L28.8108515,38.803714 C28.8108515,40.568974 27.3619563,42 25.5746535,42 C24.9357472,42 24.311136,41.8132153 23.7795338,41.4631847 L13.5176584,34.7058449 L8.3149307,34.706256 C5.93186028,34.706256 4,32.7982213 4,30.4445413 L4,17.6593971 C4,15.3057171 5.93186028,13.3976824 8.3149307,13.3976824 L13.3601634,13.3972713 L23.7795338,6.53715498 C25.2666597,5.55796489 27.2759158,5.95486009 28.267333,7.42364522 Z M40.4649231,8.99868666 C40.5511218,9.17742383 40.619996,9.32223121 40.6715457,9.43310881 C42.8085201,14.0295034 44,19.1437027 44,24.532755 C44,29.7837404 42.8687892,34.7737758 40.8339269,39.2781083 C40.7469512,39.4706362 40.6237802,39.7330988 40.4644141,40.0654961 C40.3689469,40.2647533 40.1300031,40.3488277 39.9307715,40.2533072 C39.9306414,40.2532448 39.9305113,40.2531824 39.9303812,40.2531198 C39.6706542,40.1282492 39.4751102,40.0342363 39.3437492,39.9710811 C38.9410401,39.777468 38.6130663,39.619786 38.3598279,39.498035 C38.2070716,39.4245934 38.0007263,39.3253875 37.740792,39.2004172 C37.5419104,39.104853 37.4580092,38.8662856 37.5532468,38.6672473 C37.7034937,38.3532445 37.8197479,38.104744 37.9020095,37.9217457 C39.7416376,33.8293278 40.763802,29.2989389 40.763802,24.532755 C40.763802,19.6931433 39.7099001,15.0966478 37.8164042,10.9549334 C37.7526807,10.8155487 37.6652043,10.6300308 37.5539748,10.3983796 C37.4585265,10.1993116 37.5423279,9.96050973 37.7412949,9.8648511 C37.9298799,9.7741839 38.0818373,9.70112639 38.1971671,9.64567856 C38.5403397,9.48068928 39.0100918,9.2548436 39.6064234,8.9681415 C39.6867211,8.9295363 39.7949893,8.87748349 39.9312282,8.81198307 C40.1301627,8.71623553 40.3690201,8.79982709 40.4649231,8.99868666 Z M24.954689,9.60481048 L14.4401642,16.5275765 C14.3748695,16.5705665 14.2984086,16.5934809 14.2202323,16.5934873 L8.3149307,16.5939685 L8.3149307,16.5939685 C7.76171792,16.5939685 7.30576856,17.0052668 7.24345545,17.5351457 L7.23619803,17.6593971 L7.23619803,30.4445413 C7.23619803,30.9909313 7.65263219,31.4412574 8.18892037,31.502802 L8.31467178,31.50997 L14.3775506,31.5094909 C14.4557573,31.5094847 14.5322502,31.5324045 14.5975676,31.5754153 L24.9546682,38.39546 C25.139173,38.5169545 25.3872345,38.4658746 25.508729,38.2813698 C25.5517339,38.2160614 25.5746535,38.1395804 25.5746535,38.0613845 L25.5746535,9.93889975 C25.5746535,9.71798585 25.3955674,9.53889975 25.1746535,9.53889975 C25.0964661,9.53889975 25.019993,9.56181436 24.954689,9.60481048 Z M34.6436115,11.798648 C34.7547335,12.030794 34.8419854,12.2167889 34.9053671,12.3566328 C36.590502,16.0746763 37.5276039,20.1956294 37.5276039,24.532755 C37.5276039,28.7641394 36.635639,32.7897635 35.0272837,36.4362183 C34.9380427,36.6385449 34.8101552,36.9146706 34.6436211,37.2645952 C34.5486602,37.4640326 34.3100191,37.5487723 34.1105639,37.4538487 C34.1101091,37.4536323 34.1096547,37.453415 34.1092007,37.4531968 C33.9190573,37.3618222 33.7721424,37.2912213 33.6684561,37.2413942 C33.186467,37.0097713 32.80073,36.824403 32.5112451,36.6852892 C32.3647538,36.6148919 32.1675294,36.5201144 31.9195719,36.4009569 C31.7210538,36.3055358 31.6370188,36.067582 31.7316042,35.8686644 C31.8690322,35.5796464 31.9753727,35.3500122 32.0506255,35.1797617 C33.4919206,31.9190071 34.2914059,28.3180945 34.2914059,24.532755 C34.2914059,20.6930477 33.46879,17.0431031 31.9881259,13.7454591 C31.9261905,13.6075203 31.840749,13.424362 31.7318014,13.1959842 C31.636885,12.9969991 31.7208632,12.7587263 31.919573,12.6632348 C32.0929373,12.5799233 32.2332164,12.5125112 32.3404102,12.4609985 C32.6888449,12.2935556 33.1655706,12.0644616 33.7705875,11.7737163 C33.8540198,11.7336223 33.9670458,11.6793068 34.1096655,11.6107699 C34.3087736,11.5152168 34.5476881,11.5990382 34.6433466,11.7980956 C34.643435,11.7982797 34.6435233,11.7984638 34.6436115,11.798648 Z","id":"SoundOutline-形状","fill":"currentColor","fillRule":"nonzero"}))))},d=a(900),p=a(185),m=a(187),b=a(172),f=a(162),h=a(143),O=a(136),g=m.a.ltcMenu,v=m.a.ctoMenu;t.default=function Home(){var e,t=(null===(e=Object(c.b)().router)||void 0===e?void 0:e.params.tokenId)||"",a=Object(r.useState)([g]),m=Object(_.a)(a,2),y=m[0],k=m[1],E=Object(r.useState)(!1),j=Object(_.a)(E,2),C=j[0],w=j[1],M=Object(r.useState)(!1),P=Object(_.a)(M,2),D=P[0],R=P[1],T=function getMyMenus(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];f.a.get("/api/v1/setting_manage/mobile_menus/my_menus").then((function(t){if(200===t.code&&t.data){var a=t.data.datas.filter((function(e){return e.name===v.name})).map((function(e){return Object(i.a)(Object(i.a)({},e),{},{"type":"cloud","children":e.children.map((function(e){return Object(i.a)(Object(i.a)({},e),v.children.find((function(t){return t.moduleName===e.pathname})))}))})}));e||(a=a.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{"children":e.children.filter((function(e){return!e.isAdmin}))})}))),k([g].concat(Object(n.a)(a))),Object(l.d)({"key":"allmenus","data":[g].concat(Object(n.a)(a))})}})).catch((function(){}))},x=function getToken(){if(t){R(!0),Object(l.d)({"key":"tokenId","data":t});p.a.post("/api/v1/functions/single_sign_on/execute",{"params":{"token_id":t}},{"headers":{"Authorization":"Bearer ".concat("NYbImmWjVdyN8Dh8PPq4XqVuKNCNWcp5dCDa8o2Xtyg")}}).then((function(e){if(200===e.data.code&&e.data.data.result){var t=e.data.data.result;Object(l.d)({"key":"refresh_token","data":t.refresh_token}),Object(l.d)({"key":"access_token","data":t.access_token}).then((function(){b.a.get("/crm/v2/users?type=CurrentUser").then((function(e){e.users&&Object(l.d)({"key":"currentUser","data":e.users[0]})})),U()})),Object(l.d)({"key":"expires_in","data":t.created_at+t.expires_in}),Object(l.d)({"key":"zoho_access_token","data":t.zoho_access_token}),Object(l.d)({"key":"expiration_time","data":t.expiration_time}),R(!1),w(!0)}else R(!1)})).catch((function(){R(!1)}))}},A=Object(r.useState)(!1),L=Object(_.a)(A,2),N=L[0],B=L[1],U=function getUser(){f.a.get("/api/v1/account/users/current_user").then((function(e){200===e.code&&e.data&&(Object(l.d)({"key":"cloudCurrentUser","data":e.data}),e.data.is_admin||e.data.profile_id&&"管理员"===e.data.profile_id.name?(B(!0),T(!0)):T())})).catch((function(e){}))};Object(r.useEffect)((function(){var e=Object(l.a)("tokenId");t!==e&&I(),t?x():I()}),[t]);var I=function removeStorage(){Object(l.c)("refresh_token"),Object(l.c)("access_token"),Object(l.c)("expires_in"),Object(l.c)("zoho_access_token"),Object(l.c)("expiration_time"),Object(l.c)("currentUser"),Object(l.c)("cloudCurrentUser"),Object(l.c)("allmenus")};return Object(O.jsx)(o.e,{"className":"home-container","children":!D&&C?Object(O.jsxs)(O.Fragment,{"children":[Object(O.jsx)(o.e,{"className":"home-sound-outline-top","children":Object(O.jsxs)(o.e,{"className":"home-sound-outline","children":[Object(O.jsxs)(o.e,{"className":"home-sound-outline-left","children":[Object(O.jsx)(s,{}),Object(O.jsx)(o.d,{"children":"通知"})]}),Object(O.jsx)(d.a,{})]})}),Object(O.jsx)(o.e,{"className":"home-content","children":y&&y.map((function(e){return Object(O.jsxs)(o.e,{"className":"home-content-item","children":[Object(O.jsxs)(o.e,{"className":"home-content-item-top","children":[Object(O.jsx)(o.d,{"className":"home-content-item-top-name","onClick":function onClick(){},"children":e.name}),"cloud"===e.type&&N&&Object(O.jsx)(o.d,{"onClick":function onClick(){Object(u.e)({"url":"pages/main/workbench/cloud/management/index?id=".concat(e.id)})},"children":"管理"})]}),e.children.length?Object(O.jsx)(o.e,{"className":"home-content-item-children","children":e.children.map((function(e){return Object(O.jsxs)(o.e,{"className":"home-content-item-children-app","onClick":function onClick(){Object(u.e)({"url":"pages/main/workbench/".concat(null==e?void 0:e.pathname,"/index?module_name=").concat(e.moduleName)})},"children":[null!=e&&e.logo_url?Object(O.jsx)(o.e,{"className":"home-content-item-children-app-icon","children":Object(O.jsx)(o.b,{"mode":"aspectFill","className":"home-content-item-children-app-icon","src":e.logo_url})}):Object(O.jsx)(o.e,{"className":"home-content-item-children-app-icon","children":Object(O.jsx)(o.d,{"className":"icon-name","children":e.name[0]})}),Object(O.jsx)(o.d,{"className":"home-content-item-children-app-name webkit-hidden1","children":e.name})]},e.name)}))}):null]},e.name)}))})]}):Object(O.jsx)(o.e,{"style":{"display":"flex","alignItems":"center","justifyContent":"center","flex":1},"children":D&&!C?Object(O.jsxs)(o.d,{"children":["正在加载",Object(O.jsx)(h.k,{})]}):Object(O.jsx)(h.c,{"onClick":x,"children":"点击重试"})})})}}}]);